<% content_for(:head) do -%>
  <%= javascript_include_tag('admin/posts.js') %>
<% end -%>

<h1>所有文章</h1>
<table width="80%">
  <thead>
    <tr>
      <th>标题</th>
      <th>发布时间</th>
      <th>评论</th>
      <th>操作</th>
    </tr>
  </thead>

  <tbody>
    <% if @posts.empty? -%>
      <tr><td colspan="5">暂时还没有任何文章。</td></tr>
    <% else -%>
      <%= render :partial => 'post', :collection => @posts %>
    <% end -%>
  </tbody>

  <tfoot>
    <% if @posts.total_pages > 1 -%>
      <tr class="pagination">
        <td colspan="5">
          <%= will_paginate(@posts, :previous_label => '« Newer', :next_label => 'Older »') %>
        </td>
      </tr>
    <% end -%>
  </tfoot>
</table>
